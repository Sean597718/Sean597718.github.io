<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map8 Platform 示例</title>
    <link rel="stylesheet" href="https://api.map8.zone/css/gomp.css?key=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqaW5icy5pbmZvQGdtYWlsLmNvbSIsIm5hbWUiOiJqaW5icy5pbmZvQGdtYWlsLmNvbSIsImlhdCI6MTcxNzYzODg0Niwib2JqZWN0cyI6WyJcL21hcHNcL2pzIiwiXC9tYXBzXC9zdGF0aWMiLCJcL3BsYWNlXC9nZW9jb2RlIiwiXC9wbGFjZVwvZmluZHBsYWNlZnJvbXRleHQiLCJcL3BsYWNlXC9uZWFyYnlzZWFyY2giLCJcL3BsYWNlXC90ZXh0c2VhcmNoIiwiXC9wbGFjZVwvYXV0b2NvbXBsZXRlIiwiXC9kYXRhIiwiXC9zdHlsZXMiLCJcL3Nwcml0ZXMiLCJcL2ZvbnRzIiwiXC9yb3V0ZVwvZGlyZWN0aW9ucyIsIlwvcm91dGVcL2Rpc3RhbmNlbWF0cml4IiwiXC9yb3V0ZVwvdHJpcCIsIlwvcm9hZFwvbmVhcmVzdFJvYWRzIiwiXC9yb2FkXC9zbmFwVG9Sb2FkcyIsIlwvcm91dGVcL3ZycCIsIlwvYWRkcmVzc1wvc3RhbmRhcmRpemF0aW9uIl0sImV4cCI6MTcyMDE3MTgwNn0.Bk_GgGRH-vpYD-Rq4NDMa7XoiJ12LAadPBdTEA20Sh4" />
    <style>
        #map {
            height: 80vh;
            width: 100%;
        }
    </style>
</head>
<body>
    <div id="map"></div>

    <script src="https://api.map8.zone/maps/js/gomp.js?key=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqaW5icy5pbmZvQGdtYWlsLmNvbSIsIm5hbWUiOiJqaW5icy5pbmZvQGdtYWlsLmNvbSIsImlhdCI6MTcxNzYzODg0Niwib2JqZWN0cyI6WyJcL21hcHNcL2pzIiwiXC9tYXBzXC9zdGF0aWMiLCJcL3BsYWNlXC9nZW9jb2RlIiwiXC9wbGFjZVwvZmluZHBsYWNlZnJvbXRleHQiLCJcL3BsYWNlXC9uZWFyYnlzZWFyY2giLCJcL3BsYWNlXC90ZXh0c2VhcmNoIiwiXC9wbGFjZVwvYXV0b2NvbXBsZXRlIiwiXC9kYXRhIiwiXC9zdHlsZXMiLCJcL3Nwcml0ZXMiLCJcL2ZvbnRzIiwiXC9yb3V0ZVwvZGlyZWN0aW9ucyIsIlwvcm91dGVcL2Rpc3RhbmNlbWF0cml4IiwiXC9yb3V0ZVwvdHJpcCIsIlwvcm9hZFwvbmVhcmVzdFJvYWRzIiwiXC9yb2FkXC9zbmFwVG9Sb2FkcyIsIlwvcm91dGVcL3ZycCIsIlwvYWRkcmVzc1wvc3RhbmRhcmRpemF0aW9uIl0sImV4cCI6MTcyMDE3MTgwNn0.Bk_GgGRH-vpYD-Rq4NDMa7XoiJ12LAadPBdTEA20Sh4"></script>
    <script>
        gomp.accessToken = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqaW5icy5pbmZvQGdtYWlsLmNvbSIsIm5hbWUiOiJqaW5icy5pbmZvQGdtYWlsLmNvbSIsImlhdCI6MTcxNzYzODg0Niwib2JqZWN0cyI6WyJcL21hcHNcL2pzIiwiXC9tYXBzXC9zdGF0aWMiLCJcL3BsYWNlXC9nZW9jb2RlIiwiXC9wbGFjZVwvZmluZHBsYWNlZnJvbXRleHQiLCJcL3BsYWNlXC9uZWFyYnlzZWFyY2giLCJcL3BsYWNlXC90ZXh0c2VhcmNoIiwiXC9wbGFjZVwvYXV0b2NvbXBsZXRlIiwiXC9kYXRhIiwiXC9zdHlsZXMiLCJcL3Nwcml0ZXMiLCJcL2ZvbnRzIiwiXC9yb3V0ZVwvZGlyZWN0aW9ucyIsIlwvcm91dGVcL2Rpc3RhbmNlbWF0cml4IiwiXC9yb3V0ZVwvdHJpcCIsIlwvcm9hZFwvbmVhcmVzdFJvYWRzIiwiXC9yb2FkXC9zbmFwVG9Sb2FkcyIsIlwvcm91dGVcL3ZycCIsIlwvYWRkcmVzc1wvc3RhbmRhcmRpemF0aW9uIl0sImV4cCI6MTcyMDE3MTgwNn0.Bk_GgGRH-vpYD-Rq4NDMa7XoiJ12LAadPBdTEA20Sh4';
        var map = new gomp.Map({
            container: 'map',
            style: 'https://api.map8.zone/styles/go-life-maps-tw-style-std/style.json',
            maxBounds: [[105, 15], [138.45858, 33.4]],
            center: [121.54885, 25.03625],
            zoom: 16,
            minZoom: 6,
            maxZoom: 19.99,
            pitch: 50,
            bearing: 0,
            scrollZoom: true,
            attributionControl: false
        }).addControl(new gomp.AttributionControl({
            compact: false
        }));

        map.addControl(new gomp.NavigationControl());

        map.on('load', () => {
            const taiwanBounds = {
                minLng: 120,
                maxLng: 122,
                minLat: 21.5,
                maxLat: 25.5
            };

            const coordinates = Array.from({ length: 1000 }, () => [
                Math.random() * (taiwanBounds.maxLng - taiwanBounds.minLng) + taiwanBounds.minLng,
                Math.random() * (taiwanBounds.maxLat - taiwanBounds.minLat) + taiwanBounds.minLat
            ]);

            map.addSource('route', {
                'type': 'geojson',
                'data': {
                    'type': 'Feature',
                    'properties': {},
                    'geometry': {
                        'type': 'LineString',
                        'coordinates': coordinates
                    }
                }
            });

            map.addLayer({
                'id': 'route',
                'type': 'line',
                'source': 'route',
                'layout': {
                    'line-join': 'round',
                    'line-cap': 'round'
                },
                'paint': {
                    'line-color': '#888',
                    'line-width': 2
                }
            });

            const bounds = coordinates.reduce((bounds, coord) => {
                return bounds.extend(coord);
            }, new gomp.LngLatBounds(coordinates[0], coordinates[0]));

            map.fitBounds(bounds, {
                padding: 20
            });
        });
    </script>
</body>
</html>
